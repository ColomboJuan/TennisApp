{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Juan Colombo\\\\Documents\\\\workspace\\\\tennisaplication\\\\TennisApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\Juan Colombo\\\\Documents\\\\workspace\\\\tennisaplication\\\\TennisApp\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Juan Colombo\\\\Documents\\\\workspace\\\\tennisaplication\\\\TennisApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\Juan Colombo\\\\Documents\\\\workspace\\\\tennisaplication\\\\TennisApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Juan Colombo\\\\Documents\\\\workspace\\\\tennisaplication\\\\TennisApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Juan Colombo\\\\Documents\\\\workspace\\\\tennisaplication\\\\TennisApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Juan Colombo\\\\Documents\\\\workspace\\\\tennisaplication\\\\TennisApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Juan Colombo\\\\Documents\\\\workspace\\\\tennisaplication\\\\TennisApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Juan Colombo\\\\Documents\\\\workspace\\\\tennisaplication\\\\TennisApp\\\\src\\\\pages\\\\match\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Formik, ErrorMessage } from 'formik';\nimport * as yup from 'yup';\nimport styles from './style.module.scss';\nimport Button from '../../components/button';\nimport Select from '../../components/select';\nimport FormControl from '../../components/formControl';\nimport { createMatches, updateMatches, deleteMatches } from \"../../services/firebase\";\nimport { MatchContext } from '../../context/matches';\nimport { StudentContext } from '../../context/students';\nimport Slider, { Range } from 'rc-slider';\nimport 'rc-slider/assets/index.css';\nvar formSchema = yup.object().shape({\n  student: yup.string().min(3).required(),\n  assistance: yup.boolean().required(),\n  date: yup.string().min(1).required()\n});\n\nvar Match =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Match, _React$Component);\n\n  function Match() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Match);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Match)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      match: _this.props.match,\n      showReload: false\n    };\n\n    _this.onSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(values, _ref) {\n        var setSubmitting, match;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setSubmitting = _ref.setSubmitting;\n                match = _this.state.match;\n\n                if (!match) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 5;\n                return updateMatches(match.id, values);\n\n              case 5:\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.next = 9;\n                return createMatches(values);\n\n              case 9:\n                setSubmitting(false);\n\n                _this.props.onClose();\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.onCancel = function () {\n      _this.props.onClose();\n    };\n\n    _this.onDelete =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var _this$props, match, onClose;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$props = _this.props, match = _this$props.match, onClose = _this$props.onClose;\n              _context2.next = 3;\n              return deleteMatches(match.id);\n\n            case 3:\n              onClose();\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _this;\n  }\n\n  _createClass(Match, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      var oldMatch = this.state.match;\n      var newMatch = newProps.match;\n\n      if (newMatch && oldMatch && (newMatch.student !== oldMatch.student || newMatch.assistance !== oldMatch.assistance || newMatch.date !== oldMatch.date)) {\n        this.setState({\n          match: newMatch,\n          showReload: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref4,\n          _this2 = this;\n\n      var students = this.context.students;\n      var onClose = this.props.onClose;\n      var _this$state = this.state,\n          match = _this$state.match,\n          showReload = _this$state.showReload;\n      var resource = match || {};\n      var studentsName = students.map(function (row) {\n        return {\n          label: row.name,\n          value: row.name\n        };\n      });\n      var node = React.createElement(\"div\", {\n        className: styles.modalContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: styles.modalBox,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        onClick: onClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, resource.id ? \"Edit\" : \"Create\", \" Match\"), React.createElement(Formik, {\n        initialValues: (_ref4 = {\n          student: resource.student || '',\n          assistance: resource.assistance || '',\n          date: resource.date || ''\n        }, _defineProperty(_ref4, \"date\", resource.date || ''), _defineProperty(_ref4, \"effort\", resource.effort || ''), _defineProperty(_ref4, \"engagement\", resource.engagement || ''), _defineProperty(_ref4, \"competeLevel\", resource.competeLevel || ''), _defineProperty(_ref4, \"attitude\", resource.attitude || ''), _ref4),\n        validationSchema: formSchema,\n        onSubmit: this.onSubmit,\n        render: function render(props) {\n          var values = props.values,\n              handleChange = props.handleChange,\n              handleBlur = props.handleBlur,\n              handleSubmit = props.handleSubmit,\n              isSubmitting = props.isSubmitting,\n              handleReset = props.handleReset,\n              isValid = props.isValid;\n          return React.createElement(React.Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137\n            },\n            __self: this\n          }, React.createElement(FormControl, {\n            type: \"block\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138\n            },\n            __self: this\n          }, React.createElement(Select, {\n            options: studentsName,\n            value: values.student,\n            onChange: handleChange('student'),\n            onBlur: handleBlur('student'),\n            placeholder: 'Student',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          }), React.createElement(ErrorMessage, {\n            style: {\n              color: 'red'\n            },\n            name: \"student\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145\n            },\n            __self: this\n          }), React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          }, React.createElement(\"h5\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          }, \"Assistance\")), React.createElement(\"input\", {\n            type: \"checkbox\",\n            className: \"form-control\",\n            defaultChecked: values.assistance,\n            onChange: handleChange('assistance'),\n            onBlur: handleBlur('assistance'),\n            placeholder: \"assistance\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 147\n            },\n            __self: this\n          })), React.createElement(FormControl, {\n            type: \"row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 162\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            type: \"date\",\n            className: \"form-control\",\n            value: values.date,\n            onChange: handleChange('date'),\n            onBlur: handleBlur('date'),\n            placeholder: \"date\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163\n            },\n            __self: this\n          })), values.assistance && React.createElement(\"div\", {\n            className: \"conatiner m-2\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173\n            },\n            __self: this\n          }, React.createElement(FormControl, {\n            type: \"row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174\n            },\n            __self: this\n          }, React.createElement(\"h6\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          }, \"Effort\"), React.createElement(Slider, {\n            min: 0,\n            max: 5,\n            marks: {\n              1: 1,\n              2: 2,\n              3: 3,\n              4: 4,\n              5: 5\n            },\n            value: values.effort,\n            onChange: handleChange('effort'),\n            onBlur: handleBlur('effort'),\n            placeholder: \"effort\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 178\n            },\n            __self: this\n          })), React.createElement(FormControl, {\n            type: \"row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187\n            },\n            __self: this\n          }, React.createElement(\"h6\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          }, \"Engagement\"), React.createElement(Slider, {\n            min: 0,\n            max: 5,\n            marks: {\n              1: 1,\n              2: 2,\n              3: 3,\n              4: 4,\n              5: 5\n            },\n            value: values.engagement,\n            onChange: handleChange('engagement'),\n            onBlur: handleBlur('engagement'),\n            placeholder: \"engagement\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 191\n            },\n            __self: this\n          })), React.createElement(FormControl, {\n            type: \"row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 201\n            },\n            __self: this\n          }, React.createElement(\"h6\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          }, \"Compete Level\"), React.createElement(Slider, {\n            min: 0,\n            max: 5,\n            marks: {\n              1: 1,\n              2: 2,\n              3: 3,\n              4: 4,\n              5: 5\n            },\n            value: values.competeLevel,\n            onChange: handleChange('competeLevel'),\n            onBlur: handleBlur('competeLevel'),\n            placeholder: \"competeLevel\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 205\n            },\n            __self: this\n          })), React.createElement(FormControl, {\n            type: \"row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 215\n            },\n            __self: this\n          }, React.createElement(\"h6\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          }, \"Attitude\"), React.createElement(Slider, {\n            min: 0,\n            max: 5,\n            marks: {\n              1: 1,\n              2: 2,\n              3: 3,\n              4: 4,\n              5: 5\n            },\n            value: values.attitude,\n            onChange: handleChange('attitude'),\n            onBlur: handleBlur('attitude'),\n            placeholder: \"attitude\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 219\n            },\n            __self: this\n          }))), React.createElement(FormControl, {\n            type: \"block\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 235\n            },\n            __self: this\n          }, React.createElement(Button, {\n            type: \"primary\",\n            disabled: isSubmitting || !isValid,\n            onClick: handleSubmit,\n            label: resource.id ? 'Update' : 'Create',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 236\n            },\n            __self: this\n          }), resource.id && React.createElement(Button, {\n            type: \"danger\",\n            onClick: _this2.onDelete,\n            label: \"Delete\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 243\n            },\n            __self: this\n          }), React.createElement(Button, {\n            type: \"warning\",\n            onClick: _this2.onCancel,\n            label: \"Cancel\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 249\n            },\n            __self: this\n          })), React.createElement(FormControl, {\n            type: \"row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 257\n            },\n            __self: this\n          }), showReload && React.createElement(FormControl, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 261\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 262\n            },\n            __self: this\n          }, \"This resource has been update.\", React.createElement(Button, {\n            type: \"link\",\n            onClick: function onClick() {\n              handleReset();\n\n              _this2.setState({\n                showReload: false\n              });\n            },\n            label: \"Click here\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 264\n            },\n            __self: this\n          }), \"to refresh\")));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })));\n      return ReactDOM.createPortal(node, document.getElementById('modal-root3'));\n    }\n  }]);\n\n  return Match;\n}(React.Component);\n\nMatch.contextType = MatchContext;\nMatch.contextType = StudentContext;\nexport default Match;","map":{"version":3,"sources":["C:\\Users\\Juan Colombo\\Documents\\workspace\\tennisaplication\\TennisApp\\src\\pages\\match\\index.js"],"names":["React","ReactDOM","Formik","ErrorMessage","yup","styles","Button","Select","FormControl","createMatches","updateMatches","deleteMatches","MatchContext","StudentContext","Slider","Range","formSchema","object","shape","student","string","min","required","assistance","boolean","date","Match","state","match","props","showReload","onSubmit","values","setSubmitting","id","onClose","onCancel","onDelete","newProps","oldMatch","newMatch","setState","students","context","resource","studentsName","map","row","label","name","value","node","modalContainer","modalBox","effort","engagement","competeLevel","attitude","handleChange","handleBlur","handleSubmit","isSubmitting","handleReset","isValid","color","createPortal","document","getElementById","Component","contextType"],"mappings":"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","sourcesContent":["import React  from 'react';\r\nimport ReactDOM  from 'react-dom'\r\nimport {Formik, ErrorMessage} from 'formik'\r\nimport * as yup from 'yup'\r\nimport styles from './style.module.scss';\r\nimport Button from '../../components/button'\r\nimport Select from '../../components/select'\r\nimport FormControl from '../../components/formControl'\r\nimport {createMatches,updateMatches,deleteMatches} from \"../../services/firebase\";\r\nimport { MatchContext } from '../../context/matches';\r\nimport { StudentContext } from '../../context/students';\r\nimport Slider, { Range } from 'rc-slider';\r\nimport 'rc-slider/assets/index.css';\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst formSchema = yup.object().shape({\r\n  student:yup.string().min(3).required(),\r\n  assistance:yup.boolean().required(),\r\n  date:yup.string().min(1).required(),\r\n\r\n})\r\n\r\nclass Match extends React.Component {\r\n  state={\r\n    match: this.props.match,\r\n    showReload :false\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    const {\r\n      match: oldMatch,\r\n    } = this.state;\r\n    const {\r\n      match: newMatch\r\n    } = newProps;\r\n\r\n    if(\r\n      newMatch && oldMatch &&(\r\n        newMatch.student !== oldMatch.student ||\r\n        newMatch.assistance !== oldMatch.assistance ||\r\n        newMatch.date !== oldMatch.date \r\n       \r\n      )\r\n    ) {\r\n        this.setState({\r\n          match: newMatch,\r\n            showReload: true,\r\n        });\r\n    }\r\n}\r\n  \r\n\r\n\r\nonSubmit = async (values, { setSubmitting }) => {\r\n  const {\r\n    match,\r\n  } = this.state;\r\n\r\n  if (match) {\r\n    await updateMatches(match.id,values)\r\n  } else {\r\n    await createMatches(values)\r\n  }\r\n\r\n  setSubmitting(false);\r\n  this.props.onClose();\r\n}\r\n\r\n\r\n\r\n\r\nonCancel = () =>{\r\n  \r\n  this.props.onClose()\r\n}\r\n\r\nonDelete = async()=>{\r\n  const {\r\n    match,\r\n    onClose\r\n  } = this.props\r\n  await deleteMatches(match.id);\r\n  onClose()\r\n\r\n\r\n}\r\n\r\n  render() {\r\n    const{\r\n      students\r\n     \r\n    }=this.context\r\n    const{\r\n      onClose\r\n    }=this.props\r\n    const {\r\n      match,\r\n      showReload,\r\n  } = this.state;\r\n  const resource = match || {}\r\n  const studentsName=students.map(row =>{\r\n    return{label: row.name,\r\n      value: row.name}})\r\n      const node = (\r\n           <div className={styles.modalContainer}>\r\n             <div className={styles.modalBox}>\r\n              <h1 onClick={onClose}>{resource.id ? \"Edit\" : \"Create\" } Match</h1>\r\n              <Formik\r\n                initialValues={{\r\n                    student:resource.student ||'',\r\n                    assistance:resource.assistance ||'',\r\n                     date:resource.date ||'',         \r\n                     date:resource.date ||'',\r\n                     effort:resource.effort ||'',\r\n                     engagement:resource.engagement || '',\r\n                     competeLevel:resource.competeLevel || '',\r\n                     attitude:resource.attitude || '',\r\n                    \r\n                }}\r\n                validationSchema={formSchema}\r\n                onSubmit={this.onSubmit}\r\n                render={props=>{\r\n                    const {\r\n                        values,\r\n                        handleChange,\r\n                        handleBlur,\r\n                        handleSubmit,\r\n                        isSubmitting,\r\n                        handleReset,\r\n                        isValid\r\n                    }=props\r\n                    return(\r\n                        <React.Fragment>\r\n                        <FormControl type=\"block\">\r\n                        <Select\r\n                          options={studentsName}\r\n                          value={values.student}\r\n                          onChange={handleChange('student')}\r\n                          onBlur={handleBlur('student')}\r\n                          placeholder={'Student'}/>\r\n                  <ErrorMessage  style={{ color: 'red' }} name=\"student\"/>\r\n                  <label><h5>Assistance</h5></label>\r\n                  <input type=\"checkbox\" className=\"form-control\"\r\n                  defaultChecked={values.assistance}\r\n                  onChange={handleChange('assistance')}\r\n                  onBlur={handleBlur('assistance')}\r\n                  placeholder=\"assistance\"\r\n                \r\n                  />\r\n                  \r\n                  \r\n        \r\n   \r\n                 \r\n                  \r\n           \r\n              </FormControl>\r\n              <FormControl type=\"row\">\r\n              <input type=\"date\" className=\"form-control\"\r\n                  value={values.date}\r\n                  onChange={handleChange('date')}\r\n                  onBlur={handleBlur('date')}\r\n                  placeholder=\"date\"\r\n                  />\r\n              </FormControl>\r\n              {\r\n                    values.assistance &&\r\n                  \r\n              <div className=\"conatiner m-2\">\r\n              <FormControl type=\"row\">\r\n                <h6>\r\n                  Effort\r\n                </h6>\r\n                <Slider\r\n                  min={0}\r\n                  max={5}\r\n                  marks={{ 1: 1, 2: 2, 3: 3,4:4,5:5 }}\r\n                  value={values.effort}\r\n                  onChange={handleChange('effort')}\r\n                  onBlur={handleBlur('effort')}\r\n                  placeholder=\"effort\"/>\r\n             </FormControl>\r\n             <FormControl type=\"row\">\r\n                <h6>\r\n                  Engagement\r\n                </h6>\r\n                <Slider\r\n                  min={0}\r\n                  max={5}\r\n                  marks={{ 1: 1, 2: 2, 3: 3,4:4,5:5 }}\r\n                  value={values.engagement}\r\n                  onChange={handleChange('engagement')}\r\n                  onBlur={handleBlur('engagement')}\r\n                  placeholder=\"engagement\"/>\r\n             </FormControl>\r\n             \r\n             <FormControl type=\"row\">\r\n                <h6>\r\n                  Compete Level\r\n                </h6>\r\n                <Slider\r\n                  min={0}\r\n                  max={5}\r\n                  marks={{ 1: 1, 2: 2, 3: 3,4:4,5:5 }}\r\n                  value={values.competeLevel}\r\n                  onChange={handleChange('competeLevel')}\r\n                  onBlur={handleBlur('competeLevel')}\r\n                  placeholder=\"competeLevel\"/>\r\n             </FormControl>\r\n             \r\n             <FormControl type=\"row\">\r\n                <h6>\r\n                  Attitude\r\n                </h6>\r\n                <Slider\r\n                  min={0}\r\n                  max={5}\r\n                  marks={{ 1: 1, 2: 2, 3: 3,4:4,5:5 }}\r\n                  value={values.attitude}\r\n                  onChange={handleChange('attitude')}\r\n                  onBlur={handleBlur('attitude')}\r\n                  placeholder=\"attitude\"/>\r\n             </FormControl>\r\n             </div>\r\n                  }\r\n             \r\n          \r\n             \r\n          \r\n                 \r\n              <FormControl type=\"block\" >\r\n              <Button \r\n              type=\"primary\"\r\n              disabled={isSubmitting || !isValid}\r\n              onClick={handleSubmit}\r\n              label={resource.id ? 'Update'  : 'Create'}\r\n              />\r\n                {resource.id &&\r\n              <Button \r\n              type=\"danger\"\r\n              onClick={this.onDelete}\r\n              label='Delete'\r\n              />\r\n            }\r\n              <Button \r\n              type=\"warning\"\r\n              \r\n              onClick={this.onCancel}\r\n              label='Cancel'\r\n              />\r\n              \r\n            </FormControl>\r\n              <FormControl type=\"row\" >\r\n            \r\n              </FormControl>\r\n              {showReload &&\r\n              <FormControl>\r\n                <div>\r\n                  This resource has been update.\r\n                <Button \r\n                type=\"link\"\r\n                 onClick={() =>{\r\n                handleReset()\r\n                this.setState({showReload:false})\r\n              }}\r\n              label='Click here'\r\n              />to refresh\r\n                </div>\r\n              </FormControl>\r\n              }\r\n              </React.Fragment> \r\n                    )}}\r\n              >\r\n              \r\n              </Formik>\r\n             </div>\r\n           \r\n           </div>\r\n    )\r\n    return ReactDOM.createPortal(node,document.getElementById('modal-root3'))  \r\n  }\r\n}\r\n\r\n\r\nMatch.contextType = MatchContext;\r\nMatch.contextType = StudentContext;\r\n\r\nexport default Match;\r\n"]},"metadata":{},"sourceType":"module"}