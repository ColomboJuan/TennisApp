{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Juan Colombo\\\\Documents\\\\workspace\\\\TennisApp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { auth, db } from './setup';\nexport function watchUserChanges(callback) {\n  var unsub = auth.onAuthStateChanged(function (user) {\n    if (user && !user.isAnonymous) {\n      var uid = user.uid,\n          email = user.email,\n          displayName = user.displayName;\n      callback({\n        id: uid,\n        email: email,\n        displayName: displayName\n      });\n    } else {\n      callback(null);\n    }\n  });\n  return unsub;\n}\nexport function watchStudents(callback) {\n  var unsub = db.collection('students').onSnapshot(function (snapshot) {\n    var docs = [];\n    snapshot.forEach(function (doc) {\n      var data = doc.data();\n      docs.push(_objectSpread({}, data, {\n        amount: +data.amount,\n        id: doc.id,\n        date: data.date && new Date(data.date)\n      }));\n    });\n    callback(docs);\n  });\n  return unsub;\n}","map":{"version":3,"sources":["C:\\Users\\Juan Colombo\\Documents\\workspace\\TennisApp\\src\\services\\firebase\\watcher.js"],"names":["auth","db","watchUserChanges","callback","unsub","onAuthStateChanged","user","isAnonymous","uid","email","displayName","id","watchStudents","collection","onSnapshot","snapshot","docs","forEach","doc","data","push","amount","date","Date"],"mappings":";AAAA,SAASA,IAAT,EAAeC,EAAf,QAAyB,SAAzB;AAEA,OAAO,SAASC,gBAAT,CAA0BC,QAA1B,EAAoC;AACvC,MAAMC,KAAK,GAAGJ,IAAI,CAACK,kBAAL,CAAwB,UAACC,IAAD,EAAU;AAC5C,QAAIA,IAAI,IAAI,CAACA,IAAI,CAACC,WAAlB,EAA+B;AAAA,UAEvBC,GAFuB,GAKvBF,IALuB,CAEvBE,GAFuB;AAAA,UAGvBC,KAHuB,GAKvBH,IALuB,CAGvBG,KAHuB;AAAA,UAIvBC,WAJuB,GAKvBJ,IALuB,CAIvBI,WAJuB;AAO3BP,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,EAAE,EAAEH,GADC;AAELC,QAAAA,KAAK,EAALA,KAFK;AAGLC,QAAAA,WAAW,EAAXA;AAHK,OAAD,CAAR;AAKH,KAZD,MAYO;AACHP,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH;AACJ,GAhBa,CAAd;AAkBA,SAAOC,KAAP;AACH;AAED,OAAO,SAASQ,aAAT,CAAuBT,QAAvB,EAAiC;AACpC,MAAMC,KAAK,GAAGH,EAAE,CACXY,UADS,CACE,UADF,EAETC,UAFS,CAEE,UAACC,QAAD,EAAc;AACtB,QAAMC,IAAI,GAAG,EAAb;AAEAD,IAAAA,QAAQ,CAACE,OAAT,CAAiB,UAACC,GAAD,EAAS;AACtB,UAAMC,IAAI,GAAGD,GAAG,CAACC,IAAJ,EAAb;AAEAH,MAAAA,IAAI,CAACI,IAAL,mBACOD,IADP;AAEIE,QAAAA,MAAM,EAAE,CAACF,IAAI,CAACE,MAFlB;AAGIV,QAAAA,EAAE,EAAEO,GAAG,CAACP,EAHZ;AAIIW,QAAAA,IAAI,EAAEH,IAAI,CAACG,IAAL,IAAa,IAAIC,IAAJ,CAASJ,IAAI,CAACG,IAAd;AAJvB;AAMH,KATD;AAWAnB,IAAAA,QAAQ,CAACa,IAAD,CAAR;AACH,GAjBS,CAAd;AAmBA,SAAOZ,KAAP;AACH","sourcesContent":["import { auth, db } from './setup';\r\n\r\nexport function watchUserChanges(callback) {\r\n    const unsub = auth.onAuthStateChanged((user) => {\r\n        if (user && !user.isAnonymous) {\r\n            const {\r\n                uid,\r\n                email,\r\n                displayName,\r\n            } = user\r\n\r\n            callback({\r\n                id: uid,\r\n                email,\r\n                displayName,\r\n            });\r\n        } else {\r\n            callback(null);\r\n        }\r\n    });\r\n\r\n    return unsub;\r\n}\r\n\r\nexport function watchStudents(callback) {\r\n    const unsub = db\r\n        .collection('students')\r\n        .onSnapshot((snapshot) => {\r\n            const docs = [];\r\n\r\n            snapshot.forEach((doc) => {\r\n                const data = doc.data();\r\n\r\n                docs.push({\r\n                    ...data,\r\n                    amount: +data.amount,\r\n                    id: doc.id,\r\n                    date: data.date && new Date(data.date),\r\n                });\r\n            });\r\n\r\n            callback(docs);\r\n        });\r\n\r\n    return unsub;\r\n}"]},"metadata":{},"sourceType":"module"}