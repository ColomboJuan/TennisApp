{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\joaqu\\\\OneDrive\\\\Escritorio\\\\Workspace\\\\tennisapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { auth, db } from './setup';\nexport function watchUserChanges(callback) {\n  var unssub = auth.onAuthStateChanged(function (user) {\n    if (user && !user.isAnonymous) {\n      callback({\n        id: user.uid,\n        email: user.email,\n        name: user.displayName\n      });\n    } else {\n      callback(null);\n    }\n  });\n  return unssub;\n}\nexport function watchStudents(callback) {\n  var unssub = db.collection('students').onSnapshot(function (snapshot) {\n    var docs = [];\n    snapshot.forEach(function (doc) {\n      var data = doc.data();\n      docs.push(_objectSpread({}, data, {\n        id: doc.id\n      }));\n    });\n    callback(docs);\n  });\n  return unssub;\n}","map":{"version":3,"sources":["C:\\Users\\joaqu\\OneDrive\\Escritorio\\Workspace\\tennisapp\\src\\services\\firebase\\watcher.js"],"names":["auth","db","watchUserChanges","callback","unssub","onAuthStateChanged","user","isAnonymous","id","uid","email","name","displayName","watchStudents","collection","onSnapshot","snapshot","docs","forEach","doc","data","push"],"mappings":";AAAA,SAASA,IAAT,EAAcC,EAAd,QAAwB,SAAxB;AAEA,OAAO,SAASC,gBAAT,CAA0BC,QAA1B,EAAmC;AAC1C,MAAMC,MAAM,GAAGJ,IAAI,CAACK,kBAAL,CAAwB,UAACC,IAAD,EAAS;AAC5C,QAAGA,IAAI,IAAI,CAACA,IAAI,CAACC,WAAjB,EAA6B;AAEzBJ,MAAAA,QAAQ,CAAC;AACLK,QAAAA,EAAE,EAACF,IAAI,CAACG,GADH;AAELC,QAAAA,KAAK,EAACJ,IAAI,CAACI,KAFN;AAGLC,QAAAA,IAAI,EAACL,IAAI,CAACM;AAHL,OAAD,CAAR;AAKH,KAPD,MAOK;AAEDT,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH;AAEJ,GAbc,CAAf;AAcA,SAAOC,MAAP;AAEC;AAED,OAAO,SAASS,aAAT,CAAuBV,QAAvB,EAAgC;AACnC,MAAMC,MAAM,GAAGH,EAAE,CACXa,UADS,CACE,UADF,EAETC,UAFS,CAEE,UAACC,QAAD,EAAY;AACpB,QAAMC,IAAI,GAAE,EAAZ;AACAD,IAAAA,QAAQ,CAACE,OAAT,CAAiB,UAACC,GAAD,EAAO;AACpB,UAAMC,IAAI,GAAGD,GAAG,CAACC,IAAJ,EAAb;AACAH,MAAAA,IAAI,CAACI,IAAL,mBACOD,IADP;AAEGZ,QAAAA,EAAE,EAACW,GAAG,CAACX;AAFV;AAIH,KAND;AAQAL,IAAAA,QAAQ,CAACc,IAAD,CAAR;AACH,GAbS,CAAf;AAcK,SAAOb,MAAP;AAEJ","sourcesContent":["import { auth,db } from './setup'\r\n\r\nexport function watchUserChanges(callback){\r\nconst unssub = auth.onAuthStateChanged((user)=> {\r\n    if(user && !user.isAnonymous){\r\n       \r\n        callback({\r\n            id:user.uid,\r\n            email:user.email,\r\n            name:user.displayName\r\n        });\r\n    }else{\r\n       \r\n        callback(null);\r\n    }\r\n\r\n})\r\nreturn unssub\r\n\r\n}\r\n\r\nexport function watchStudents(callback){\r\n    const unssub = db\r\n         .collection('students')\r\n         .onSnapshot((snapshot)=>{\r\n             const docs= []\r\n             snapshot.forEach((doc)=>{\r\n                 const data = doc.data()\r\n                 docs.push({\r\n                     ...data,\r\n                    id:doc.id,\r\n                })\r\n             })\r\n\r\n             callback(docs)\r\n         })\r\n         return unssub\r\n\r\n    }\r\n    "]},"metadata":{},"sourceType":"module"}