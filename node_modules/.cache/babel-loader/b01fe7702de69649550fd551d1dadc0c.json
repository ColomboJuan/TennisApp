{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\joaqu\\\\OneDrive\\\\Escritorio\\\\Workspace\\\\tennisapp\\\\TenisApp2\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\joaqu\\\\OneDrive\\\\Escritorio\\\\Workspace\\\\tennisapp\\\\TenisApp2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\joaqu\\\\OneDrive\\\\Escritorio\\\\Workspace\\\\tennisapp\\\\TenisApp2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\joaqu\\\\OneDrive\\\\Escritorio\\\\Workspace\\\\tennisapp\\\\TenisApp2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\joaqu\\\\OneDrive\\\\Escritorio\\\\Workspace\\\\tennisapp\\\\TenisApp2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\joaqu\\\\OneDrive\\\\Escritorio\\\\Workspace\\\\tennisapp\\\\TenisApp2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\joaqu\\\\OneDrive\\\\Escritorio\\\\Workspace\\\\tennisapp\\\\TenisApp2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\joaqu\\\\OneDrive\\\\Escritorio\\\\Workspace\\\\tennisapp\\\\TenisApp2\\\\src\\\\pages\\\\student\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Formik, ErrorMessage } from 'formik';\nimport * as yup from 'yup';\nimport styles from './style.module.scss';\nimport Button from '../../components/button';\nimport Select from '../../components/select';\nimport FormControl from '../../components/formControl';\nimport { createStudents, updateStudents, deleteStudents } from \"../../services/firebase\";\nimport { StudentContext } from '../../context/students';\nvar formSchema = yup.object().shape({\n  name: yup.string().min(3).required(),\n  age: yup.number().required(),\n  group: yup.string().min(1).required(),\n  gender: yup.string().min(1).required(),\n  email: yup.string().required(),\n  adress: yup.string().required()\n});\n\nvar Student =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Student, _React$Component);\n\n  function Student() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Student);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Student)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      student: _this.props.student,\n      showReload: false\n    };\n\n    _this.onSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(values, formikBag) {\n        var _this$props, student, onClose;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$props = _this.props, student = _this$props.student, onClose = _this$props.onClose;\n\n                if (!student.id) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 4;\n                return updateStudents(student.id, values);\n\n              case 4:\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.next = 8;\n                return createStudents(values);\n\n              case 8:\n                formikBag.setSubmitting(false);\n                onClose();\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.onCancel = function () {\n      var student = _this.props.student;\n      console.log(student.id);\n\n      _this.props.onClose();\n    };\n\n    _this.onDelete =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var _this$props2, student, onClose;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$props2 = _this.props, student = _this$props2.student, onClose = _this$props2.onClose;\n              _context2.next = 3;\n              return deleteStudents(student.id);\n\n            case 3:\n              onClose();\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _this;\n  }\n\n  _createClass(Student, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      var newStudent = newProps.student;\n      var oldStudent = this.props.student;\n\n      if (newStudent && oldStudent && (newStudent.name !== oldStudent.name || newStudent.age !== oldStudent.age || newStudent.group !== oldStudent.group || newStudent.gender !== oldStudent.gender || newStudent.email !== oldStudent.email || newStudent.adress !== oldStudent.adress)) {\n        this.setState({\n          showReload: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          student = _this$props3.student,\n          onClose = _this$props3.onClose;\n      var showReload = this.state.showReload;\n      var node = React.createElement(\"div\", {\n        className: styles.modalContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: styles.modalBox,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        onClick: onClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Edit student\"), React.createElement(Formik, {\n        initialValues: {\n          name: student.name || '',\n          age: student.age || '',\n          group: student.group || '',\n          gender: student.gender || '',\n          email: student.email || '',\n          adress: student.adress || ''\n        },\n        validationSchema: formSchema,\n        onSubmit: this.onSubmit,\n        render: function render(props) {\n          var values = props.values,\n              handleChange = props.handleChange,\n              handleBlur = props.handleBlur,\n              handleSubmit = props.handleSubmit,\n              isSubmitting = props.isSubmitting,\n              handleReset = props.handleReset,\n              isValid = props.isValid;\n          return React.createElement(React.Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }, React.createElement(FormControl, {\n            type: \"block\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            value: values.name,\n            onChange: handleChange('name'),\n            onBlur: handleBlur('name'),\n            placeholder: \"Name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          }), React.createElement(ErrorMessage, {\n            style: {\n              color: 'red'\n            },\n            name: \"name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          }), React.createElement(\"input\", {\n            type: \"number\",\n            className: \"form-control\",\n            value: values.age,\n            onChange: handleChange('age'),\n            onBlur: handleBlur('age'),\n            placeholder: \"Age\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }), React.createElement(ErrorMessage, {\n            name: \"age\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }), React.createElement(Select, {\n            options: [{\n              label: 'Male',\n              value: 'Male'\n            }, {\n              label: 'Femenale',\n              value: 'Femenale'\n            }, {\n              label: 'Undifined',\n              value: 'Undifined'\n            }],\n            value: values.gender,\n            onChange: handleChange('gender'),\n            onBlur: handleBlur('gender'),\n            placeholder: \"Gender\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }), React.createElement(ErrorMessage, {\n            name: \"gender\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154\n            },\n            __self: this\n          })), React.createElement(FormControl, {\n            type: \"row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            value: values.email,\n            onChange: handleChange('email'),\n            onBlur: handleBlur('email'),\n            placeholder: \"Email\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }), React.createElement(ErrorMessage, {\n            name: \"email\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163\n            },\n            __self: this\n          })), React.createElement(FormControl, {\n            type: \"block\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            value: values.adress,\n            onChange: handleChange('adress'),\n            onBlur: handleBlur('adress'),\n            placeholder: \"Adress\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167\n            },\n            __self: this\n          }), React.createElement(ErrorMessage, {\n            name: \"adress\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173\n            },\n            __self: this\n          }), React.createElement(Select, {\n            options: [{\n              label: '1',\n              value: '1'\n            }, {\n              label: '2',\n              value: '2'\n            }, {\n              label: '3',\n              value: '3'\n            }],\n            value: values.group,\n            onChange: handleChange('group'),\n            onBlur: handleBlur('group'),\n            placeholder: 'Group',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          }), React.createElement(ErrorMessage, {\n            name: \"group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 195\n            },\n            __self: this\n          })), React.createElement(FormControl, {\n            type: \"block\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }, React.createElement(Button, {\n            type: \"primary\",\n            disabled: isSubmitting || !isValid,\n            onClick: handleSubmit,\n            label: student.id ? 'Update' : 'Create',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }), student.id && React.createElement(Button, {\n            type: \"danger\",\n            onClick: _this2.onDelete,\n            label: \"Delete\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 207\n            },\n            __self: this\n          }), React.createElement(Button, {\n            type: \"warning\",\n            onClick: _this2.onCancel,\n            label: \"Cancel\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 213\n            },\n            __self: this\n          })), React.createElement(FormControl, {\n            type: \"row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221\n            },\n            __self: this\n          }), showReload && React.createElement(FormControl, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 225\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 226\n            },\n            __self: this\n          }, \"This resource has been update.\", React.createElement(Button, {\n            type: \"link\",\n            onClick: function onClick() {\n              handleReset();\n\n              _this2.setState({\n                showReload: false\n              });\n            },\n            label: \"Click here\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 228\n            },\n            __self: this\n          }), \"to refresh\")));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      })));\n      return ReactDOM.createPortal(node, document.getElementById('modal-root'));\n    }\n  }]);\n\n  return Student;\n}(React.Component);\n\nStudent.contextType = StudentContext;\nexport default Student;","map":{"version":3,"sources":["C:\\Users\\joaqu\\OneDrive\\Escritorio\\Workspace\\tennisapp\\TenisApp2\\src\\pages\\student\\index.js"],"names":["React","ReactDOM","Formik","ErrorMessage","yup","styles","Button","Select","FormControl","createStudents","updateStudents","deleteStudents","StudentContext","formSchema","object","shape","name","string","min","required","age","number","group","gender","email","adress","Student","state","student","props","showReload","onSubmit","values","formikBag","onClose","id","setSubmitting","onCancel","console","log","onDelete","newProps","newStudent","oldStudent","setState","node","modalContainer","modalBox","handleChange","handleBlur","handleSubmit","isSubmitting","handleReset","isValid","color","label","value","createPortal","document","getElementById","Component","contextType"],"mappings":"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","sourcesContent":["import React  from 'react';\r\nimport ReactDOM  from 'react-dom'\r\nimport {Formik, ErrorMessage} from 'formik'\r\nimport * as yup from 'yup'\r\nimport styles from './style.module.scss';\r\nimport Button from '../../components/button'\r\nimport Select from '../../components/select'\r\nimport FormControl from '../../components/formControl'\r\nimport {createStudents,updateStudents,deleteStudents} from \"../../services/firebase\";\r\nimport { StudentContext } from '../../context/students';\r\n\r\n\r\nconst formSchema = yup.object().shape({\r\n  name:yup.string().min(3).required(),\r\n  age:yup.number().required(),\r\n  group:yup.string().min(1).required(),\r\n  gender:yup.string().min(1).required(),\r\n  email:yup.string().required(),\r\n  adress:yup.string().required()\r\n})\r\n\r\nclass Student extends React.Component {\r\n  state={\r\n    student: this.props.student,\r\n    showReload :false\r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n     const newStudent = newProps.student;\r\n     const oldStudent = this.props.student;\r\n     if(\r\n      newStudent && oldStudent &&(\r\n        newStudent.name !== oldStudent.name ||\r\n        newStudent.age !== oldStudent.age ||\r\n        newStudent.group !== oldStudent.group ||\r\n        newStudent.gender !== oldStudent.gender ||\r\n        newStudent.email !== oldStudent.email ||\r\n        newStudent.adress !== oldStudent.adress\r\n      )\r\n     ){\r\n       this.setState({showReload:true})\r\n\r\n     }\r\n     \r\n  }\r\nonSubmit = async (values, formikBag)=>{\r\n  const {\r\n    student,\r\n    onClose\r\n  } = this.props\r\n  if(student.id){\r\n  await updateStudents(student.id,values)\r\n}else{\r\n  await createStudents(values)\r\n}\r\n\r\n  formikBag.setSubmitting(false)\r\n  onClose()\r\n\r\n}\r\nonCancel = () =>{\r\n  const {\r\n    student\r\n    \r\n  } = this.props\r\nconsole.log(student.id)\r\n  this.props.onClose()\r\n}\r\n\r\nonDelete = async()=>{\r\n  const {\r\n    student,\r\n    onClose\r\n  } = this.props\r\n  await deleteStudents(student.id);\r\n  onClose()\r\n\r\n\r\n}\r\n\r\n  render() {\r\n\r\n    const{\r\n      student,\r\n      onClose\r\n    }=this.props\r\n    const {\r\n      showReload\r\n    }  =this.state\r\n\r\n      const node = (\r\n           <div className={styles.modalContainer}>\r\n             <div className={styles.modalBox}>\r\n              <h1 onClick={onClose}>Edit student</h1>\r\n              <Formik\r\n                initialValues={{\r\n                    name:student.name ||'',\r\n                    age:student.age ||'',\r\n                    group:student.group ||'',\r\n                    gender:student.gender ||'',\r\n                    email:student.email ||'',\r\n                    adress:student.adress ||'',\r\n                    \r\n                }}\r\n                validationSchema={formSchema}\r\n                onSubmit={this.onSubmit}\r\n                render={props=>{\r\n                    const {\r\n                        values,\r\n                        handleChange,\r\n                        handleBlur,\r\n                        handleSubmit,\r\n                        isSubmitting,\r\n                        handleReset,\r\n                        isValid\r\n                    }=props\r\n                    return(\r\n                        <React.Fragment>\r\n                        <FormControl type=\"block\">\r\n                        <input type=\"text\" className=\"form-control\"\r\n                  value={values.name}\r\n                  onChange={handleChange('name')}\r\n                  onBlur={handleBlur('name')}\r\n                  placeholder=\"Name\"\r\n                  />\r\n                  <ErrorMessage  style={{ color: 'red' }} name=\"name\"/>\r\n                  <input type=\"number\" className=\"form-control\"\r\n                  value={values.age}\r\n                  onChange={handleChange('age')}\r\n                  onBlur={handleBlur('age')}\r\n                  placeholder=\"Age\"\r\n                  />\r\n                  <ErrorMessage  name=\"age\"/>\r\n                    <Select\r\n\r\n              options={[{\r\n                  label:'Male',\r\n                  value:'Male'\r\n              },\r\n              {\r\n                label:'Femenale',\r\n                value:'Femenale'\r\n            },\r\n            {\r\n                label:'Undifined',\r\n                value:'Undifined'\r\n            }\r\n        ]}\r\n              value={values.gender}\r\n              onChange={handleChange('gender')}\r\n              onBlur={handleBlur('gender')}\r\n              placeholder=\"Gender\"/>\r\n\r\n              <ErrorMessage name=\"gender\"/>\r\n              </FormControl>\r\n              <FormControl type=\"row\">\r\n              <input type=\"text\" className=\"form-control\"\r\n                  value={values.email}\r\n                  onChange={handleChange('email')}\r\n                  onBlur={handleBlur('email')}\r\n                  placeholder=\"Email\"\r\n                  />\r\n              <ErrorMessage name=\"email\"/>\r\n\r\n              </FormControl> \r\n              <FormControl type=\"block\">\r\n              <input type=\"text\" className=\"form-control\"\r\n                  value={values.adress}\r\n                  onChange={handleChange('adress')}\r\n                  onBlur={handleBlur('adress')}\r\n                  placeholder=\"Adress\"\r\n                  />\r\n              <ErrorMessage name=\"adress\"/>\r\n\r\n              <Select\r\n              options={[{\r\n                  label:'1',\r\n                  value:'1'\r\n              },\r\n              {\r\n                label:'2',\r\n                value:'2'\r\n            },\r\n            {\r\n                label:'3',\r\n                value:'3'\r\n            }\r\n        ]}\r\n              value={values.group}\r\n              onChange={handleChange('group')}\r\n              onBlur={handleBlur('group')}\r\n              placeholder={'Group'}\r\n\r\n              />\r\n              <ErrorMessage name=\"group\"/>\r\n              </FormControl> \r\n                 \r\n              <FormControl type=\"block\" >\r\n              <Button \r\n              \r\n              type=\"primary\"\r\n              disabled={isSubmitting || !isValid}\r\n              onClick={handleSubmit}\r\n              label={student.id ? 'Update'  : 'Create'}\r\n              />\r\n                {student.id &&\r\n              <Button \r\n              type=\"danger\"\r\n              onClick={this.onDelete}\r\n              label='Delete'\r\n              />\r\n            }\r\n              <Button \r\n              type=\"warning\"\r\n              \r\n              onClick={this.onCancel}\r\n              label='Cancel'\r\n              />\r\n              \r\n            </FormControl>\r\n              <FormControl type=\"row\" >\r\n            \r\n              </FormControl>\r\n              {showReload &&\r\n              <FormControl>\r\n                <div>\r\n                  This resource has been update.\r\n                <Button \r\n                type=\"link\"\r\n                 onClick={() =>{\r\n                handleReset()\r\n                this.setState({showReload:false})\r\n              }}\r\n              label='Click here'\r\n              />to refresh\r\n                </div>\r\n              </FormControl>\r\n              }\r\n              </React.Fragment> \r\n                    )}}\r\n              >\r\n              \r\n              </Formik>\r\n             </div>\r\n           \r\n           </div>\r\n    )\r\n    return ReactDOM.createPortal(node,document.getElementById('modal-root'))  \r\n  }\r\n}\r\n\r\n\r\nStudent.contextType = StudentContext;\r\n\r\nexport default Student;\r\n"]},"metadata":{},"sourceType":"module"}