{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\joaqu\\\\OneDrive\\\\Escritorio\\\\Workspace\\\\tennisapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { auth, db } from './setup';\nexport function watchUserChanges(callback) {\n  var unsub = auth.onAuthStateChanged(function (user) {\n    if (user && !user.isAnonymous) {\n      var uid = user.uid,\n          email = user.email,\n          displayName = user.displayName;\n      callback({\n        id: user.uid,\n        email: user.email,\n        name: user.displayName\n      });\n    } else {\n      callback(null);\n    }\n  });\n  return unsub;\n}\nexport function watchStudents(callback) {\n  var unsub = db.collection('students').onSnapshot(function (snapshot) {\n    var docs = [];\n    snapshot.forEach(function (doc) {\n      var data = doc.data();\n      docs.push(_objectSpread({}, data, {\n        id: doc.id\n      }));\n    });\n    callback(docs);\n  });\n  return unsub;\n}","map":{"version":3,"sources":["C:\\Users\\joaqu\\OneDrive\\Escritorio\\Workspace\\tennisapp\\src\\services\\firebase\\watcher.js"],"names":["auth","db","watchUserChanges","callback","unsub","onAuthStateChanged","user","isAnonymous","uid","email","displayName","id","name","watchStudents","collection","onSnapshot","snapshot","docs","forEach","doc","data","push"],"mappings":";AAAA,SAASA,IAAT,EAAcC,EAAd,QAAwB,SAAxB;AAEA,OAAO,SAASC,gBAAT,CAA0BC,QAA1B,EAAmC;AAC1C,MAAMC,KAAK,GAAIJ,IAAI,CAACK,kBAAL,CAAwB,UAACC,IAAD,EAAS;AAC5C,QAAGA,IAAI,IAAI,CAACA,IAAI,CAACC,WAAjB,EAA6B;AAAA,UAErBC,GAFqB,GAKrBF,IALqB,CAErBE,GAFqB;AAAA,UAGrBC,KAHqB,GAKrBH,IALqB,CAGrBG,KAHqB;AAAA,UAIrBC,WAJqB,GAKrBJ,IALqB,CAIrBI,WAJqB;AAMzBP,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,EAAE,EAACL,IAAI,CAACE,GADH;AAELC,QAAAA,KAAK,EAACH,IAAI,CAACG,KAFN;AAGLG,QAAAA,IAAI,EAACN,IAAI,CAACI;AAHL,OAAD,CAAR;AAKH,KAXD,MAWK;AAEDP,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH;AAEJ,GAjBc,CAAf;AAkBA,SAAOC,KAAP;AAEC;AAED,OAAO,SAASS,aAAT,CAAuBV,QAAvB,EAAgC;AACnC,MAAMC,KAAK,GAAIH,EAAE,CACXa,UADS,CACE,UADF,EAETC,UAFS,CAEE,UAACC,QAAD,EAAY;AACpB,QAAMC,IAAI,GAAE,EAAZ;AACAD,IAAAA,QAAQ,CAACE,OAAT,CAAiB,UAACC,GAAD,EAAO;AACpB,UAAMC,IAAI,GAAGD,GAAG,CAACC,IAAJ,EAAb;AACAH,MAAAA,IAAI,CAACI,IAAL,mBACOD,IADP;AAEGT,QAAAA,EAAE,EAACQ,GAAG,CAACR;AAFV;AAIH,KAND;AAQAR,IAAAA,QAAQ,CAACc,IAAD,CAAR;AACH,GAbS,CAAf;AAcK,SAAOb,KAAP;AAEJ","sourcesContent":["import { auth,db } from './setup'\r\n\r\nexport function watchUserChanges(callback){\r\nconst unsub  = auth.onAuthStateChanged((user)=> {\r\n    if(user && !user.isAnonymous){\r\n        const {\r\n            uid,\r\n            email,\r\n            displayName,\r\n        } = user;\r\n        callback({\r\n            id:user.uid,\r\n            email:user.email,\r\n            name:user.displayName\r\n        });\r\n    }else{\r\n       \r\n        callback(null);\r\n    }\r\n\r\n})\r\nreturn unsub \r\n\r\n}\r\n\r\nexport function watchStudents(callback){\r\n    const unsub  = db\r\n         .collection('students')\r\n         .onSnapshot((snapshot)=>{\r\n             const docs= []\r\n             snapshot.forEach((doc)=>{\r\n                 const data = doc.data()\r\n                 docs.push({\r\n                     ...data,\r\n                    id:doc.id,\r\n                })\r\n             })\r\n\r\n             callback(docs)\r\n         })\r\n         return unsub \r\n\r\n    }\r\n    "]},"metadata":{},"sourceType":"module"}